# ==============================================
# AI CRM 改进版 - 环境配置
# ==============================================
# 复制此文件为 .env 并填入实际配置值

# ==============================================
# 应用配置
# ==============================================
APP_NAME=AI CRM System
APP_VERSION=1.0.0
DEBUG=True
ENVIRONMENT=development
PORT=5000
FRONTEND_URL=http://localhost:3000

# Flask应用配置
FLASK_SECRET_KEY=your_secret_key_here_change_in_production
FLASK_DEBUG=True
FLASK_HOST=0.0.0.0
FLASK_PORT=5002

# HTTPS 和 IPv6 配置
# 启用HTTPS (需要SSL证书)
ENABLE_HTTPS=false
# 启用IPv6支持
ENABLE_IPV6=false
# SSL证书路径 (自动生成或手动指定)
SSL_CERT_PATH=ssl_certs/cert.pem
SSL_KEY_PATH=ssl_certs/key.pem

# ==============================================
# 数据库配置
# ==============================================
# SQLite 数据库路径 (默认)
SQLITE_PATH=crm.db

# PostgreSQL 连接字符串 (可选)
DATABASE_URL=postgresql://username:password@localhost:5432/crm_db
# Docker 环境: postgresql://postgres:password123@postgres:5432/crm_db

# Redis 连接字符串 (可选)
REDIS_URL=redis://localhost:6379/0
# Docker 环境: redis://:redis123@redis:6379/0

# ==============================================
# 安全配置
# ==============================================
# JWT 密钥 (生产环境请使用强随机字符串)
SECRET_KEY=your-super-secret-jwt-key-change-this-in-production
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30

# 加密密钥 (AES-256 需要32字符)
ENCRYPTION_KEY=your-encryption-key-32-chars-long

# ==============================================
# AI 服务配置
# ==============================================
# OpenAI GPT-4
OPENAI_API_KEY=your_openai_api_key_here
OPENAI_MODEL=gpt-4
OPENAI_BASE_URL=https://api.openai.com/v1

# Google Generative AI (Gemini)
GOOGLE_API_KEY=your_google_api_key_here
GEMINI_MODEL=gemini-pro

# Deepseek API
DEEPSEEK_API_KEY=your_deepseek_api_key_here
DEEPSEEK_MODEL=deepseek-chat
DEEPSEEK_BASE_URL=https://api.deepseek.com/v1

# Moonshot Kimi API
MOONSHOT_API_KEY=your_moonshot_api_key_here
MOONSHOT_MODEL=moonshot-v1-8k
MOONSHOT_BASE_URL=https://api.moonshot.cn/v1

# xAI Grok API
GROK_API_KEY=your_grok_api_key_here
GROK_MODEL=grok-beta
GROK_BASE_URL=https://api.x.ai/v1

# AI模型偏好设置（按优先级排序）
PREFERRED_MODELS=grok-beta,deepseek-chat,moonshot-v1-8k,gpt-4,gemini-pro

# API调用配置
API_TIMEOUT=30
MAX_RETRIES=3
RETRY_DELAY=1
MAX_TOKENS_PER_REQUEST=4000

# 外部API服务配置
# 天眼查API
TIANYANCHA_API_KEY=your_tianyancha_api_key_here
TIANYANCHA_BASE_URL=https://open.tianyancha.com

# 百度OCR API
BAIDU_API_KEY=your_baidu_api_key_here
BAIDU_SECRET_KEY=your_baidu_secret_key_here
BAIDU_OCR_URL=https://aip.baidubce.com/rest/2.0/ocr/v1/general_basic

# Google Vision API
GOOGLE_VISION_API_KEY=your_google_vision_api_key_here
GOOGLE_VISION_URL=https://vision.googleapis.com/v1/images:annotate

# ==============================================
# 文件存储配置
# ==============================================
# 本地存储路径
UPLOAD_DIR=./uploads
MAX_FILE_SIZE=10485760  # 10MB
ALLOWED_EXTENSIONS=jpg,jpeg,png,gif,pdf,doc,docx,xls,xlsx

# OCR 配置
TESSERACT_CMD=/usr/bin/tesseract  # Tesseract 可执行文件路径
OCR_LANGUAGES=eng+chi_sim  # 支持的OCR语言

# AWS S3 配置 (可选)
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key
AWS_S3_BUCKET=your-s3-bucket-name
AWS_REGION=us-east-1

# ==============================================
# 邮件配置
# ==============================================
# SMTP 配置用于通知
MAIL_USERNAME=your_email@example.com
MAIL_PASSWORD=your_email_password_or_app_password
MAIL_FROM=your_email@example.com
MAIL_PORT=587
MAIL_SERVER=smtp.gmail.com
MAIL_FROM_NAME=AI CRM System

# ==============================================
# Celery 任务队列配置
# ==============================================
CELERY_BROKER_URL=redis://localhost:6379/1
CELERY_RESULT_BACKEND=redis://localhost:6379/2

# ==============================================
# CORS 配置
# ==============================================
ALLOWED_ORIGINS=http://localhost:3000,http://127.0.0.1:3000

# ==============================================
# 安全配置
# ==============================================
SECURE_COOKIES=False  # 生产环境设置为 True
HTTPS_ONLY=False      # 生产环境设置为 True

# ==============================================
# 监控和分析
# ==============================================
# Sentry 错误追踪
SENTRY_DSN=your-sentry-dsn
SENTRY_ENVIRONMENT=development

# Prometheus 监控
PROMETHEUS_ENABLED=False
PROMETHEUS_PORT=9090

# ==============================================
# 限流配置
# ==============================================
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_PER_HOUR=1000

# ==============================================
# 开发工具
# ==============================================
# 日志配置
LOG_LEVEL=INFO
LOG_FILE=./logs/app.log

# WebSocket 配置
WS_HEARTBEAT_INTERVAL=30  # WebSocket 心跳间隔（秒）

# ==============================================
# 生产环境配置
# ==============================================
# SSL 配置 (生产环境)
SSL_CERT_PATH=/path/to/ssl/cert.pem
SSL_KEY_PATH=/path/to/ssl/private.key

# 域名配置
DOMAIN=yourcompany.com

# ==============================================
# Docker 配置
# ==============================================
# PostgreSQL Docker 配置
POSTGRES_USER=postgres
POSTGRES_PASSWORD=password123
POSTGRES_DB=crm_db

# Redis Docker 配置
REDIS_PASSWORD=redis123

# ==============================================
# 前端环境变量
# ==============================================
# React 环境变量需要 REACT_APP_ 前缀
REACT_APP_API_URL=http://localhost:8000
REACT_APP_WS_URL=ws://localhost:8000
REACT_APP_VERSION=1.0.0
REACT_APP_ENVIRONMENT=development

# ==============================================
# 功能开关
# ==============================================
ENABLE_AI_ANALYSIS=True
ENABLE_OCR_PROCESSING=True
ENABLE_REAL_TIME_NOTIFICATIONS=True
ENABLE_ADVANCED_ANALYTICS=True
ENABLE_MULTI_AI_MODELS=True

# ==============================================
# 缓存配置
# ==============================================
CACHE_TTL=3600  # 缓存过期时间（秒）

# ==============================================
# 备份配置
# ==============================================
BACKUP_ENABLED=True
BACKUP_SCHEDULE=0 2 * * *  # 每天凌晨2点备份
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=your-backup-bucket

# ==============================================
# 第三方服务配置 (可选)
# ==============================================
# 短信服务
SMS_PROVIDER=
SMS_API_KEY=
SMS_API_SECRET=

# 云存储配置
CLOUD_STORAGE_PROVIDER=  # aws, gcp, azure, aliyun
CLOUD_STORAGE_BUCKET=
CLOUD_STORAGE_ACCESS_KEY=
CLOUD_STORAGE_SECRET_KEY=
CLOUD_STORAGE_REGION=

# 分析服务配置
ANALYTICS_ENABLED=False
ANALYTICS_TRACKING_ID=

# 性能监控配置
APM_ENABLED=False
APM_SERVICE_NAME=ai-crm
APM_SERVER_URL=
APM_SECRET_TOKEN=